# üåç Internationalization (i18n) en Astro

Astro tiene soporte nativo para i18n. No necesitas librer√≠as externas pesadas.

## Conceptos Clave

1.  **Routing Autom√°tico**: Astro maneja las rutas `/es`, `/en`, etc. por ti.
2.  **Colecciones de Contenido**: Puedes tener tus traducciones en archivos JSON/YAML seguros y tipados.
3.  **Middleware**: Detecta el idioma del usuario autom√°ticamente.

## Configuraci√≥n (`astro.config.mjs`)

```javascript
export default defineConfig({
    i18n: {
        defaultLocale: "es",
        locales: ["es", "en"],
        routing: {
            // false: "es" est√° en "/", "en" est√° en "/en"
            // true: "es" est√° en "/es", "en" est√° en "/en"
            prefixDefaultLocale: false,
        },
    },
});
```

## Estructura de Archivos

```text
src/
  pages/
    index.astro      (Espa√±ol - Default)
    about.astro      (Espa√±ol)
    en/
      index.astro    (Ingl√©s)
      about.astro    (Ingl√©s)
```

## Traducciones de UI (Strings)

Usa `src/i18n/ui.ts` (convenci√≥n recomendada) para textos peque√±os como botones o men√∫s.

```typescript
// src/i18n/ui.ts
export const languages = {
    es: "Espa√±ol",
    en: "English",
};

export const ui = {
    es: {
        "nav.home": "Inicio",
        "nav.about": "Sobre nosotros",
    },
    en: {
        "nav.home": "Home",
        "nav.about": "About",
    },
};
```

## Uso en Componentes

```astro
---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<a href="/">{t('nav.home')}</a>
```

---

### üßô‚Äç‚ôÇÔ∏è Senior Tip: Type-Safe Translations

No uses strings m√°gicos como `t('nav.home')`.
Usa `keyof typeof ui.es` para que TypeScript te avise si escribes mal una clave.

```typescript
export function useTranslations(lang: keyof typeof ui) {
    return function t(key: keyof (typeof ui)[typeof lang]) {
        return ui[lang][key] || ui[defaultLang][key];
    };
}
```

Si cambias "nav.home" a "nav.inicio", tu build fallar√° (¬°y eso es bueno!).
